{% extends 'core/base.html' %}
{% block content %}
<div class="container mt-4">
  <h2 class="mb-4 text-center">Welcome to InsightHub, {{ user.username }}!</h2>

  <div class="row text-center">
    <div class="col-md-4 mb-3">
      <div class="card shadow-sm p-4">
        <h2>Projects</h2>
        <h2>{{ project_count }}</h2>
        <a href="{% url 'project_list' %}" class="btn btn-outline-primary btn-sm mt-2">View Projects</a>
      </div>
    </div>
    <div class="col-md-4 mb-3">
      <div class="card shadow-sm p-4">
        <h2>Tasks</h2>
        <h2>{{ task_count }}</h2>
        <a href="{% url 'all_tasks' %}" class="btn btn-outline-primary btn-sm mt-2">View Tasks</a>
      </div>
    </div>
    <div class="col-md-4 mb-3">
      <div class="card shadow-sm p-4">
        <h2>Posts</h2>
        <h2>{{ post_count }}</h2>
        <a href="{% url 'post_list' %}" class="btn btn-outline-primary btn-sm mt-2">View Posts</a>
      </div>
    </div>
  </div>

  {% if user.role == 'Manager' or user.role == 'Admin' %}
  <hr>
<div class="summary-row">
  <div class="summary-card">
    <div class="card">
      <div class="card-body">
        <h5 class="card-title">Total Projects (All)</h5>
        <div class="summary-value">{{ all_projects }}</div>
      </div>
    </div>
  </div>

  <div class="summary-card">
    <div class="card">
      <div class="card-body">
        <h5 class="card-title">Total Users</h5>
        <div class="summary-value">{{ all_users }}</div>
      </div>
    </div>
  </div>
</div>
  {% endif %}
</div>
{% endblock %}
